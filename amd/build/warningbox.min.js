define("local_ai_manager/warningbox",["exports","local_ai_manager/config","core/log","core/templates","local_ai_manager/events"],(function(_exports,_config,_log,_templates,_events){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Module rendering the warning box to inform the users about misleading AI results.
   *
   * @module     local_ai_manager/warningbox
   * @copyright  2024 ISB Bayern
   * @author     Philipp Memmel
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.renderWarningBox=void 0,_log=_interopRequireDefault(_log),_templates=_interopRequireDefault(_templates);_exports.renderWarningBox=async function(selectorOrElement){let forceMaximize=arguments.length>1&&void 0!==arguments[1]&&arguments[1],aiConfig=null;try{aiConfig=await(0,_config.getAiInfo)()}catch(error){return void _log.default.debug(error)}const showAiWarningLink=aiConfig.aiwarningurl.length>0,targetElement=selectorOrElement instanceof Element?selectorOrElement:document.querySelector(selectorOrElement),{html:html,js:js}=await _templates.default.renderForPromise("local_ai_manager/ai_info_warning",{showaiwarninglink:showAiWarningLink,aiwarningurl:aiConfig.aiwarningurl});_templates.default.appendNodeContents(targetElement,html,js);const textElement=targetElement.querySelector("p"),warningboxListener=()=>{textElement.classList.toggle("local_ai_manager-expanded")};window.innerWidth<=576&&!forceMaximize&&(textElement.classList.add("local_ai_manager-expandable_text"),textElement.addEventListener("click",warningboxListener)),targetElement.addEventListener(_events.events.collapseWarningBox,(()=>{textElement.classList.add("local_ai_manager-expandable_text"),textElement.removeEventListener("click",warningboxListener),textElement.addEventListener("click",warningboxListener)})),targetElement.addEventListener(_events.events.maximizeWarningBox,(()=>{textElement.classList.remove("local_ai_manager-expandable_text"),textElement.removeEventListener("click",warningboxListener)}))}}));

//# sourceMappingURL=warningbox.min.js.map