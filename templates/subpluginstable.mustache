{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_ai_manager/instancetable

    Template for the table that shows the current instances.

    Example context (json):
    {
        "aitools": [
            {
                "displayname": "ChatGPT",
                "enabled": true,
                "enableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=1&plugin=aitool_chatgpt&sesskey=foobar",
                "disableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=0&plugin=aitool_chatgpt&sesskey=foobar"
            },
            {
                "displayname": "Ollama",
                "enabled": true,
                "enableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=1&plugin=aitool_ollama&sesskey=foobar",
                "disableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=0&plugin=aitool_ollama&sesskey=foobar"
            }
        ],
        "aipurposes": [
            {
                "displayname": "Chat",
                "enabled": true,
                "enableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=1&plugin=aipurpose_chat&sesskey=foobar",
                "disableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=0&plugin=aipurpose_chat&sesskey=foobar"
            },
            {
                "displayname": "Feedback",
                "enabled": false,
                "enableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=1&plugin=aipurpose_feedback&sesskey=foobar",
                "disableurl": "https://MY_MOODLE.com/local/ai_manager/managesubplugins?enable=0&plugin=aipurpose_feedback&sesskey=foobar"
            }
        ]
    }
}}
<div id="local_ai_manager-subplugins_table">
    <h2>{{#str}}subplugintype_aitool_plural, local_ai_manager{{/str}}</h2>
    <div class="table-rensposive w-50 mr-auto ml-auto">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">{{#str}}subplugin, local_ai_manager{{/str}}</th>
                <th scope="col">{{#str}}status, local_ai_manager{{/str}}</th>
            </tr>
            </thead>
            <tbody>
            {{#aitools}}
                <tr>
                    <td>{{displayname}}</td>
                    <td>
                        {{#enabled}}<a href="{{{disableurl}}}">{{#str}}subpluginenabled, local_ai_manager{{/str}}</a>{{/enabled}}
                        {{^enabled}}<a href="{{{enableurl}}}">{{#str}}subplugindisabled, local_ai_manager{{/str}}</a>{{/enabled}}
                    </td>
                </tr>
            {{/aitools}}
            </tbody>
        </table>
    </div>
    <h2>{{#str}}subplugintype_aipurpose_plural, local_ai_manager{{/str}}</h2>
    <div class="table-rensposive w-50 mr-auto ml-auto">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">{{#str}}subplugin, local_ai_manager{{/str}}</th>
                <th scope="col">{{#str}}status, local_ai_manager{{/str}}</th>
            </tr>
            </thead>
            <tbody>
            {{#aipurposes}}
                <tr>
                    <td>{{displayname}}</td>
                    <td>
                        {{#enabled}}<a href="{{{disableurl}}}">{{#str}}subpluginenabled, local_ai_manager{{/str}}</a>{{/enabled}}
                        {{^enabled}}<a href="{{{enableurl}}}">{{#str}}subplugindisabled, local_ai_manager{{/str}}</a>{{/enabled}}
                    </td>
                </tr>
            {{/aipurposes}}
            </tbody>
        </table>
    </div>
</div>
